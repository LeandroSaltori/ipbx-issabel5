
### CHANSPY CHANSPY (OUVIR LIGAÇÃO)


    OUTRO RECURSO QUE PODE SER BASTANTE ÚTIL É O CHANSPY (QUE PERMITE ESCUTAR A LIGAÇÃO DE DETERMINADO RAMAL EM TEMPO REAL). 
    IMPORTANTE CONFIGURAR UMA SENHA PARA ESTA FUNÇÃO, POIS QUALQUER RAMAL PODE OUVIR UMA LIGAÇÃO EM TEMPO REAL,
    ALTERNANDO COM *.

    Para realizar este procedimento em centrais Asterisk, localize o arquivo:
      - Navegue até o arquivo:  /etc/asterisk/extensions_additional.conf

    Localize a linha [app-chanspy] e mude as configurações para inserir uma senha, que será solicitada quando um ramal tentar escutar uma ligação. O arquivo deverá ficar da seguinte forma:

    PARA A FUNÇÃO CHANSPY FUNCIONAR CORRETAMENTE, INSIRA O CÓDIGO NO ARQUIVO extensions_override_issabelpbx.conf 

[app-chanspy]
exten => 555,1,Macro(user-callerid,)
exten => 555,n,Answer
exten => 555,n,Wait(1)
exten => 555,n,Authenticate(SENHA QUE SERÁ DEFINIDA)
exten => 555,n,Wait(1)
exten => 555,n,ChanSpy()
exten => 555,n,Hangup
exten => _555X.,1,Macro(user-callerid,)
exten => _555X.,n,Answer
exten => _555X.,n,Wait(1)
exten => _555X.,n,Authenticate(SENHA QUE SERÁ DEFINIDA)
exten => _555X.,n,Wait(1)
exten => _555X.,n,ChanSpy(SIP/${EXTEN:3})
exten => _555X.,n,Hangup


Observação: É possível mudar o 555 da função “ChanSpy” para outro número em “Feature Codes” e realizar estes procedimentos.